{% if site.comments.discourse.server %}
{% capture canonical %}{% if site.permalink contains '.html' %}{{ page.url | absolute_url }}{% else %}{{ page.url | absolute_url | remove:'index.html' | strip_slash }}{% endif %}{% endcapture %}
<script type="text/javascript">
   (function () {
     // Discourse 스크립트는 댓글 컨테이너가 존재할 때만 로드
     var discourseComments = document.getElementById('discourse-comments');
     if (!discourseComments) {
       return; // 댓글 컨테이너가 없으면 스크립트를 로드하지 않음
     }
     
     DiscourseEmbed = { discourseUrl: '//{{ site.comments.discourse.server }}/',
                        discourseEmbedUrl: '{{ canonical }}' };
     var d = document.createElement('script'); d.type = 'text/javascript'; d.async = true;
     d.src = DiscourseEmbed.discourseUrl + 'javascripts/embed.js';
     var head = document.getElementsByTagName('head')[0];
     var body = document.getElementsByTagName('body')[0];
     if (head) {
       head.appendChild(d);
     } else if (body) {
       body.appendChild(d);
     }
   })();
</script>
<noscript>Please enable JavaScript to view the comments powered by <a href="https://www.discourse.org/">Discourse.</a></noscript>
{% endif %}
